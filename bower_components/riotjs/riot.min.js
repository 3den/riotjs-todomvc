/* Riot 0.9.8, @license MIT, (c) 2014 Moot Inc + contributors */
(function(e){"use strict";e.observable=function(e){var t={},n=[].slice;e.on=function(n,r){if(typeof r==="function"){n.replace(/[^\s]+/g,function(e,n){(t[e]=t[e]||[]).push(r);r.typed=n>0})}return e};e.off=function(n){n.replace(/[^\s]+/g,function(e){t[e]=[]});if(n=="*")t={};return e};e.one=function(t,n){if(n)n.one=true;return e.on(t,n)};e.trigger=function(r){var o=n.call(arguments,1),a=t[r]||[];for(var i=0,c;c=a[i];++i){if(!c.one||!c.done){c.apply(e,c.typed?[r].concat(o):o);c.done=true}}return e};return e};var t={};e.render=function(e,n){if(!e)return"";t[e]=t[e]||new Function("_","return '"+e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/'/g,"\\'").replace(/\{\s*(\w+)\s*\}/g,"'+(_.$1?(_.$1+'').replace(/&/g,'&amp;').replace(/\"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;'):(_.$1===0?0:''))+'")+"'");return t[e](n)};if(typeof top!="object")return;var n,r=e.observable({}),o=window.addEventListener,a=document;function i(e){e=e.type?location.hash:e;if(e!=n)r.trigger("pop",e);n=e}if(o){o("popstate",i,false);a.addEventListener("DOMContentLoaded",i,false)}else{a.attachEvent("onreadystatechange",function(){if(a.readyState==="complete")i("")})}e.route=function(e){if(typeof e==="function")return r.on("pop",e);if(history.pushState)history.pushState(0,0,e);i(e)}})(typeof top=="object"?window.$||(window.$={}):exports);